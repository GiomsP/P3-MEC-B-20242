import java.awt.BorderLayout;
import java.awt.GridLayout;
import java.util.ArrayList;
import java.util.List;
import javax.swing.JButton;
import javax.swing.JComboBox;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JPanel;
import javax.swing.JTextField;

public class Simulacion extends JFrame {
    private JComboBox<String> categoriaComboBox;
    private JComboBox<String> servicioComboBox;
    private JTextField cedulaTextField;
    private JLabel contadorLabel;
    private List<Paciente> cola;
    private int contadorPacientes;

    public Simulacion() {
        cola = new ArrayList<>();
        contadorPacientes = 0;

        // Crear panel de ingreso
        JPanel ingresoPanel = new JPanel();
        ingresoPanel.setLayout(new GridLayout(5, 2));
        
        ingresoPanel.add(new JLabel("Cédula:"));
        cedulaTextField = new JTextField(10);
        ingresoPanel.add(cedulaTextField);
        
        ingresoPanel.add(new JLabel("Categoría:"));
        categoriaComboBox = new JComboBox<>(new String[]{"Persona menor a 60 años", "Adulto mayor", "Persona con discapacidad"});
        ingresoPanel.add(categoriaComboBox);
        
        ingresoPanel.add(new JLabel("Servicio:"));
        servicioComboBox = new JComboBox<>(new String[]{"Consulta médica general", "Consulta médica especializada", "Consulta de laboratorio", "Imágenes de diagnóstico"});
        ingresoPanel.add(servicioComboBox);
        
        JButton registrarButton = new JButton("Registrar");
        registrarButton.addActionListener(e -> registrarPaciente());
        ingresoPanel.add(registrarButton);

        // Crear etiqueta para contar pacientes registrados
        contadorLabel = new JLabel("0 pacientes");
        add(contadorLabel, BorderLayout.NORTH);
        
        // Agregar panel de ingreso al JFrame
        add(ingresoPanel, BorderLayout.WEST);
        
        setSize(400, 200);
        setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE);
        setVisible(true);
    }

    private void registrarPaciente() {
        String cedula = cedulaTextField.getText();

        // Validar cédula
        if (!cedula.matches("\\d{10}")) {
            System.out.println("Error: La cédula debe contener exactamente 10 dígitos numéricos.");
            return;
        }

        String categoria = (String) categoriaComboBox.getSelectedItem();
        String servicio = (String) servicioComboBox.getSelectedItem();

        Paciente paciente = new Paciente(cedula, categoria, servicio);
        cola.add(paciente);
        contadorPacientes++;
        contadorLabel.setText(contadorPacientes + " pacientes");
    }

    public static void main(String[] args) {
        new Simulacion();
    }
}

class Paciente {
    private String cedula;
    private String categoria;
    private String servicio;

    public Paciente(String cedula, String categoria, String servicio) {
        this.cedula = cedula;
        this.categoria = categoria;
        this.servicio = servicio;
    }

    public String getCedula() {
        return cedula;
    }

    public String getCategoria() {
        return categoria;
    }

    public String getServicio() {
        return servicio;
    }
}
